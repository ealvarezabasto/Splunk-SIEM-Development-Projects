# (In Windows) Install and configure a Heavy Forwarder using Splunk Web

**Description:** agent that collects data from a server and send it to Splunk

  **Heavy Forwarder Configuration Steps (same steps as for Universal Forwarder - Section 4.1)**
*    1. Apply Forwarder License to Heavy Forwarder (Refer to Section 2.2)
*    2. Configure receiving on a Splunk Enterprise instance (e.g., Search Head server or Index server)
*    3. Configure the HF to send data
*    4. Configure the HF to collect data from the host system

## Step 1. Apply Forwarder License to Heavy Forwarder 
* Refer to Section 2.2 for steps

## Step 2: Configure receiving on a Splunk Enterprise instance
* **Note** For the logs to be sent from the Heavy Forwarder, there needs to be a receiving port at the Splunk site (e.g., Search Head server or Indexer server) --- (Port 9997).

* Login to the Search Head server via the UI
    
* Select ***Settings*** > **Forwarding & Receiving** > **Configure Receiving**

  <img width="1024" height="359" alt="image" src="https://github.com/user-attachments/assets/fd1129d1-f14c-484c-8a10-51ee369a36d9" />

  <img width="980" height="555" alt="image" src="https://github.com/user-attachments/assets/7c9103af-7749-4f14-9d83-538d902d0b83" />


* Type Splunk receiving port of 9997

  <img width="975" height="434" alt="image" src="https://github.com/user-attachments/assets/fd51690c-4b11-4700-8d3f-cde976fb9a0d" />

* Port of 9997 created

  <img width="1899" height="339" alt="image" src="https://github.com/user-attachments/assets/08e8bf24-8d36-4025-8caa-38d98ba5f55b" />

## Step 3: Configure the HF to send data
* Login to the Heavy Forwarder via the UI

* Select ***Settings*** > ***Forwarding & Receiving***

  <img width="1044" height="386" alt="image" src="https://github.com/user-attachments/assets/c5349783-25a4-410f-a1e1-117ff0349d5c" />

* Select ***Add new*** next to ***Configuring forwarding***

  <img width="971" height="336" alt="image" src="https://github.com/user-attachments/assets/eefa8b0e-bfc2-4689-8804-95c72337f53c" />

* Enter ***Private IP Address*** for Search Head 1 and click ***Save***

  <img width="984" height="423" alt="image" src="https://github.com/user-attachments/assets/23ea9b19-2430-4125-8882-c6530c7a7728" />

## Step 4: Configure the HF to collect data from the host system
* Within the Heavy Forwarder server, select ***Add Data***

  <img width="1006" height="367" alt="image" src="https://github.com/user-attachments/assets/2e118f73-456f-42e3-9cdd-be38b152f54b" />

* Select ***Uplaod*** and upload a log file from computer

  <img width="1051" height="884" alt="image" src="https://github.com/user-attachments/assets/34f68b42-3b74-4304-8367-7166a2c4d83b" />

* Uploaded a ***secure2.log*** file

  <img width="944" height="606" alt="image" src="https://github.com/user-attachments/assets/ec7e6ccd-042f-4cfa-9cd4-e0996638f725" />

* Select a Source Type

  <img width="1907" height="488" alt="image" src="https://github.com/user-attachments/assets/ead3695e-931f-4d5f-86ff-11934150da67" />

  <img width="1013" height="822" alt="image" src="https://github.com/user-attachments/assets/34c83a3f-b1c9-4e35-b5be-1422342cd9ed" />

  <img width="1019" height="425" alt="image" src="https://github.com/user-attachments/assets/3786b5f0-19db-4e2e-a6e6-30b1b7bb4d68" />

## Step 5: Search for recently uploaded data on the Search Head Server
* Login to the Search Head via the UI

* Access ***Search & Reporting*** app and select ***Data Summary***. You can successfully view the file uploaded on the Hevy Forwarder server reflected on the Search Head server.

## (Optional) Step 6: Have Heavy Forwarder server index data locally before it forwards it to the Search Head

*Note** Only Heavy Forwarder (Not Universal Forwarder) is able to index data locally.

* Login to the Heavy Forwrder via the UI

* Select ***Settings*** > ***Forwarding & Receiving***

  <img width="1007" height="312" alt="image" src="https://github.com/user-attachments/assets/0dff4f93-9599-4773-a4ff-6ec73a665974" />

* Select ***Forwarding Defaults***

  <img width="978" height="340" alt="image" src="https://github.com/user-attachments/assets/4157ba2d-09c8-47fa-b02f-6f9ec570a225" />

* Select ***Yes*** to ***Store a local copy of forwarded events?***

  <img width="963" height="395" alt="image" src="https://github.com/user-attachments/assets/2da99e4c-ab81-4c22-a4d6-56577039c0f0" />

* Now Heavy Forwarder will index data locally as well as forward it to the Search Head server
